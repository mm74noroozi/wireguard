# wireguard
## commands
generate private key
    
    wg genkey >privkey.pem
generate preshared key

    wg genpsk >psk.pem
genrate public key based on private key

    cat privkey.pem|wg pubkey > pubkey.pem
up wireguard

    wg-quick up wg0
auto startup wireguard

    systemctl enable wg-quick@wg0
## filter local ips
AllowedIPs = 0.0.0.0/0 - 0.0.0.0/32, 127.0.0.1/32 , 10.0.0.0/8, 192.168.0.0/16 =

    AllowedIPs = 0.0.0.1/32, 0.0.0.2/31, 0.0.0.4/30, 0.0.0.8/29, 0.0.0.16/28, 0.0.0.32/27, 0.0.0.64/26, 0.0.0.128/25, 0.0.1.0/24, 0.0.2.0/23, 0.0.4.0/22, 0.0.8.0/21, 0.0.16.0/20, 0.0.32.0/19, 0.0.64.0/18, 0.0.128.0/17, 0.1.0.0/16, 0.2.0.0/15, 0.4.0.0/14, 0.8.0.0/13, 0.16.0.0/12, 0.32.0.0/11, 0.64.0.0/10, 0.128.0.0/9, 1.0.0.0/8, 2.0.0.0/7, 4.0.0.0/6, 8.0.0.0/7, 11.0.0.0/8, 12.0.0.0/6, 16.0.0.0/4, 32.0.0.0/3, 64.0.0.0/3, 96.0.0.0/4, 112.0.0.0/5, 120.0.0.0/6, 124.0.0.0/7, 126.0.0.0/8, 127.0.0.0/32, 127.0.0.2/31, 127.0.0.4/30, 127.0.0.8/29, 127.0.0.16/28, 127.0.0.32/27, 127.0.0.64/26, 127.0.0.128/25, 127.0.1.0/24, 127.0.2.0/23, 127.0.4.0/22, 127.0.8.0/21, 127.0.16.0/20, 127.0.32.0/19, 127.0.64.0/18, 127.0.128.0/17, 127.1.0.0/16, 127.2.0.0/15, 127.4.0.0/14, 127.8.0.0/13, 127.16.0.0/12, 127.32.0.0/11, 127.64.0.0/10, 127.128.0.0/9, 128.0.0.0/2, 192.0.0.0/9, 192.128.0.0/11, 192.160.0.0/13, 192.169.0.0/16, 192.170.0.0/15, 192.172.0.0/14, 192.176.0.0/12, 192.192.0.0/10, 193.0.0.0/8, 194.0.0.0/7, 196.0.0.0/6, 200.0.0.0/5, 208.0.0.0/4, 224.0.0.0/3
AllowedIPs = 0.0.0.0/0 - 0.0.0.0/32, 127.0.0.1/32 , 10.0.0.0/8, 192.168.0.0/16 , 172.23.0.0/16 =

    AllowedIPs = 0.0.0.1/32, 0.0.0.2/31, 0.0.0.4/30, 0.0.0.8/29, 0.0.0.16/28, 0.0.0.32/27, 0.0.0.64/26, 0.0.0.128/25, 0.0.1.0/24, 0.0.2.0/23, 0.0.4.0/22, 0.0.8.0/21, 0.0.16.0/20, 0.0.32.0/19, 0.0.64.0/18, 0.0.128.0/17, 0.1.0.0/16, 0.2.0.0/15, 0.4.0.0/14, 0.8.0.0/13, 0.16.0.0/12, 0.32.0.0/11, 0.64.0.0/10, 0.128.0.0/9, 1.0.0.0/8, 2.0.0.0/7, 4.0.0.0/6, 8.0.0.0/7, 11.0.0.0/8, 12.0.0.0/6, 16.0.0.0/4, 32.0.0.0/3, 64.0.0.0/3, 96.0.0.0/4, 112.0.0.0/5, 120.0.0.0/6, 124.0.0.0/7, 126.0.0.0/8, 127.0.0.0/32, 127.0.0.2/31, 127.0.0.4/30, 127.0.0.8/29, 127.0.0.16/28, 127.0.0.32/27, 127.0.0.64/26, 127.0.0.128/25, 127.0.1.0/24, 127.0.2.0/23, 127.0.4.0/22, 127.0.8.0/21, 127.0.16.0/20, 127.0.32.0/19, 127.0.64.0/18, 127.0.128.0/17, 127.1.0.0/16, 127.2.0.0/15, 127.4.0.0/14, 127.8.0.0/13, 127.16.0.0/12, 127.32.0.0/11, 127.64.0.0/10, 127.128.0.0/9, 128.0.0.0/3, 160.0.0.0/5, 168.0.0.0/6, 172.0.0.0/12, 172.16.0.0/14, 172.20.0.0/15, 172.22.0.0/16, 172.24.0.0/13, 172.32.0.0/11, 172.64.0.0/10, 172.128.0.0/9, 173.0.0.0/8, 174.0.0.0/7, 176.0.0.0/4, 192.0.0.0/9, 192.128.0.0/11, 192.160.0.0/13, 192.169.0.0/16, 192.170.0.0/15, 192.172.0.0/14, 192.176.0.0/12, 192.192.0.0/10, 193.0.0.0/8, 194.0.0.0/7, 196.0.0.0/6, 200.0.0.0/5, 208.0.0.0/4, 224.0.0.0/3
https://www.procustodibus.com/blog/2021/03/wireguard-allowedips-calculator/
